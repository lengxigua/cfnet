# Cloudflare account ID
name = "cloudflare-worker-template-prod"
compatibility_date = "2024-11-11"
compatibility_flags = ["nodejs_compat", "nodejs_als"]
pages_build_output_dir = ".vercel/output/static"

# D1 database binding 
[[d1_databases]]
binding = "DB"
database_name = "wangzhan_d1"
database_id = "3ff19a93-07c5-4e38-a442-fc0d1d0b331c"
migrations_dir = "migrations"

# R2 bucket binding 
[[r2_buckets]]
binding = "BUCKET"
bucket_name = "wangzhan-r2"

# KV namespace
[[kv_namespaces]]
binding = "KV"
id = "8ef79821556f41679ca87967044446dc"

# Environment variables
[vars]
ENVIRONMENT = "production"
ANALYTICS_SINK = "engine"
# Configure NEXTAUTH_SECRET via `wrangler secret put NEXTAUTH_SECRET` to avoid committing secrets
# Configure STRIPE_SECRET_KEY via `wrangler secret put STRIPE_SECRET_KEY`
# Configure STRIPE_WEBHOOK_SECRET via `wrangler secret put STRIPE_WEBHOOK_SECRET`

# Analytics Engine dataset binding
# [[analytics_engine_datasets]]
# binding = "ANALYTICS"
# dataset = "prod_analytics_dataset"  # Use underscore instead of hyphen
